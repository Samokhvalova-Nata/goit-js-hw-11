function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var l=o("6fOXY"),i=o("iQIUW"),a=o("cdIRi"),s=o("fZKcF");const c={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".gallery"),sentinel:document.querySelector("#sentinel")};let u=null;const f=new(0,l.PixabayAPI);c.formEl.addEventListener("submit",(async function(t){if(t.preventDefault(),function(){c.galleryEl.innerHTML=""}(),d.unobserve(c.sentinel),f.query=t.target.elements.searchQuery.value.trim(),f.resetPage(),""===f.query)return void i.Notify.failure("Sorry, enter something in search line.");try{const{data:t}=await f.fetchPhotos();if(0===t.hits.length)return i.Notify.failure("Sorry, there are no images matching your search query. Please try again."),void c.formEl.reset();i.Notify.success(`Hooray! We found ${t.totalHits} images.`),c.galleryEl.innerHTML=(0,a.default)(t.hits),f.incrementPage(),Math.ceil(t.totalHits/f.count)!==f.page&&d.observe(c.sentinel),u=new(e(s))(".gallery  a",{captionDelay:250,scrollZoom:!1})}catch(e){console.log(e)}}));const d=new IntersectionObserver((async e=>{for(const t of e)if(t.isIntersecting&&""!==f.query)try{const{data:e}=await f.fetchPhotos();c.galleryEl.insertAdjacentHTML("beforeend",(0,a.default)(e.hits)),f.incrementPage(),u.refresh(),y()}catch(e){console.log(e)}}),{rootMargin:"150px"});function y(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}
//# sourceMappingURL=infinity scroll.db1c659a.js.map
